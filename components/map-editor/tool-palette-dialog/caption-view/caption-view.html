
<fieldset data-kit-add-attributes="%{#model.isDisabled()}%">
    <div>
        <label>Default text:</label>
        <div id="validation-caption-default-text" class="validation-message"></div>
        <input id="caption-default-text"
               type="text"
               placeholder="[Default text]"
               maxlength="30"
               style="width:200px;"
               value="%{#model.getDefaultText()}%"
               onchange="#model.update()"
               onkeydown="#model.onKeyDown(event)" />
    </div>
    <div>
        <label>Font:</label>
        <div id="validation-caption-font" class="validation-message"></div>
        <input id="caption-font"
               type="text"
               placeholder="12px Arial, sans-serif"
               maxlength="60"
               style="width:200px;"
               value="%{#model.getFont()}%"
               onchange="#model.update()"
               onkeydown="#model.onKeyDown(event)" />
    </div>
    <div>
        <label>Font variant caps:</label>
        <div id="validation-caption-font-caps" class="validation-message"></div>
        <select id="caption-font-caps"
                title="Font variant caps"
                onchange="#model.update()">
        </select>
    </div>
    <div>
        <label>Font color:</label>
        <div id="validation-caption-font-color" class="validation-message"></div>
        <input id="caption-font-color"
               type="color"
               onchange="#model.update()"
               data-kit-add-attributes="value=%{#model.getFontColor()}%" />
    </div>
    <div>
        <label>Font outine color:</label>
        <div id="validation-caption-font-outline-color" class="validation-message"></div>
        <input id="caption-font-outline-color"
               type="color"
               onchange="#model.update()"
               data-kit-add-attributes="value=%{#model.getFontOutlineColor()}%" />
    </div>
    <div>
        <label>Opacity (%):</label>
        <div id="validation-caption-font-opacity" class="validation-message"></div>
        <input id="caption-font-opacity"
               type="number"
               min="0"
               max="100"
               onchange="#model.update()"
               data-kit-add-attributes="value=%{#model.getOpacity()}%" />
    </div>
    <div>
        <details id="details-caption-background" ontoggle="#model.onDetailsToggleEvent(event)">
            <summary>Background</summary>
            <section>
                <kit-if id="background-fill-if" data-kit-condition="true">
                    <div class="surface-tertiary background">
                        <kit-component id="caption-background-fill"
                                       data-kit-template-path="/components/map-editor/tool-palette-dialog/path-style-view/path-style-view.html"
                                       data-kit-model-input="{ pathStyleInfo: #model?.getPathStyleInfo(true, false) }">
                        </kit-component>
                        <kit-if data-kit-condition="!#model.hasBackgroundFill()">
                            <fieldset data-kit-add-attributes="%{#model.isDisabled()}%">
                                <div>
                                    <button title="Add background"
                                            class="button dialog-button"
                                            data-kit-add-attributes="%{#model.isDisabled()}%"
                                            onclick="#model.addBackgroundFill();">
                                        Add background
                                    </button>
                                </div>
                            </fieldset>
                        </kit-if>
                    </div>
                </kit-if>
            </section>
        </details>
    </div>
    <div>
        <details id="details-caption-border" ontoggle="#model.onDetailsToggleEvent(event)">
            <summary>Border</summary>
            <section>
                <div class="surface-tertiary background">
                    <kit-component id="caption-border-stroke"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/path-style-view/path-style-view.html"
                                   data-kit-model-input="{ pathStyleInfo: #model?.getPathStyleInfo(false, true) }">
                    </kit-component>
                    <kit-if data-kit-condition="!#model.hasBorderStroke()">
                        <fieldset data-kit-add-attributes="%{#model.isDisabled()}%">
                            <div>
                                <button title="Add border"
                                        class="button dialog-button"
                                        data-kit-add-attributes="%{#model.isDisabled()}%"
                                        onclick="#model.addBorderStroke();">
                                    Add border
                                </button>
                            </div>
                        </fieldset>
                    </kit-if>
                </div>
            </section>
        </details>
    </div>
    <div>
        <details id="details-caption-shadow" ontoggle="#model.onDetailsToggleEvent(event)">
            <summary>Shadow</summary>
            <section>
                <div class="surface-tertiary background">
                    <kit-component id="caption-shadow"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/shadow-view/shadow-view.html"
                                   data-kit-model-input="{ mapItemTemplate: #model?.getMapItemTemplate(), captionViewModel: #model, isCaptionShadow: true }">
                    </kit-component>
                </div>
            </section>
        </details>
    </div>
    <div>
        <details id="details-text-shadow" ontoggle="#model.onDetailsToggleEvent(event)">
            <summary>Text shadow</summary>
            <section>
                <div class="surface-tertiary background">
                    <kit-component id="caption-text-shadow"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/shadow-view/shadow-view.html"
                                   data-kit-model-input="{ mapItemTemplate: #model?.getMapItemTemplate(), captionViewModel: #model, isCaptionTextShadow: true }">
                    </kit-component>
                </div>
            </section>
        </details>
    </div>
</fieldset>
