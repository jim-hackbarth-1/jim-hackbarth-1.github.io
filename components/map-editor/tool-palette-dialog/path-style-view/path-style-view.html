
<kit-if id="if-path-style-visible" data-kit-condition="#model.isVisible()">
    <fieldset data-kit-add-attributes="%{#model.isDisabled()}%">

        <div>
            <label>Style type:</label>
            <select id="select-style-type" title="Style type" onchange="#model.updateStyleType()"></select>
        </div>

        <!-- ColorFill -->
        <kit-if data-kit-condition="#model.getStyleType() == 'ColorFill'">
            <div>
                <label>Color:</label>
                <div id="validation-color" class="validation-message"></div>
                <input id="color"
                       type="color"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('Color')}%" />
            </div>
        </kit-if>

        <!-- ColorStroke -->
        <kit-if data-kit-condition="#model.getStyleType() == 'ColorStroke'">
            <div>
                <label>Color:</label>
                <div id="validation-color" class="validation-message"></div>
                <input id="color"
                       type="color"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('Color')}%" />
            </div>
            <kit-component id="stroke-styles"
                           data-kit-template-path="/components/map-editor/tool-palette-dialog/stroke-styles-view/stroke-styles-view.html"
                           data-kit-model-input="{ pathStyleViewModel: #model }">
            </kit-component>
        </kit-if>

        <!-- LinearGradientFill -->
        <kit-if data-kit-condition="#model.getStyleType() == 'LinearGradientFill'">
            <div>
                <label>Gradient start (%):</label>
                <div>
                    <div id="validation-start-x" class="validation-message"></div>
                    <div id="validation-start-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="start-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart')?.x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="start-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart')?.y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Gradient end (%):</label>
                <div>
                    <div id="validation-end-x" class="validation-message"></div>
                    <div id="validation-end-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="end-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientEnd')?.x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="end-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientEnd')?.y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Color stops:</label>
                <kit-array data-kit-array="#model.getColorStops()"
                           data-kit-item-ref="colorStopInfo">
                    <kit-component id="color-stop-%{#colorStopInfo.index}%"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/color-stop-view/color-stop-view.html"
                                   data-kit-model-input="{ pathStyleViewModel: #model, colorStop: #colorStopInfo.colorStop }">
                    </kit-component>
                </kit-array>
            </div>
        </kit-if>

        <!-- LinearGradientStroke -->
        <kit-if data-kit-condition="#model.getStyleType() == 'LinearGradientStroke'">
            <div>
                <label>Gradient start (%):</label>
                <div>
                    <div id="validation-start-x" class="validation-message"></div>
                    <div id="validation-start-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="start-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="start-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Gradient end (%):</label>
                <div>
                    <div id="validation-end-x" class="validation-message"></div>
                    <div id="validation-end-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="end-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientEnd').x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="end-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientEnd').y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Color stops:</label>
                <kit-array data-kit-array="#model.getColorStops()"
                           data-kit-item-ref="colorStopInfo">
                    <kit-component id="color-stop-%{#colorStopInfo.index}%"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/color-stop-view/color-stop-view.html"
                                   data-kit-model-input="{ pathStyleViewModel: #model, colorStop: #colorStopInfo.colorStop }">
                    </kit-component>
                </kit-array>
            </div>
            <kit-component id="stroke-styles"
                           data-kit-template-path="/components/map-editor/tool-palette-dialog/stroke-styles-view/stroke-styles-view.html"
                           data-kit-model-input="{ pathStyleViewModel: #model }">
            </kit-component>
        </kit-if>

        <!-- RadialGradientFill -->
        <kit-if data-kit-condition="#model.getStyleType() == 'RadialGradientFill'">
            <div>
                <label>Gradient start (%):</label>
                <div>
                    <div id="validation-start-x" class="validation-message"></div>
                    <div id="validation-start-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="start-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="start-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Gradient end (%):</label>
                <div>
                    <div id="validation-end-x" class="validation-message"></div>
                    <div id="validation-end-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="end-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientEnd').x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="end-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientEnd').y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Start radius (%):</label>
                <div id="validation-start-radius" class="validation-message"></div>
                <input id="start-radius"
                       type="number"
                       min="0"
                       max="100"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('GradientStartRadius')}%" />
            </div>
            <div>
                <label>End radius (%):</label>
                <div id="validation-end-radius" class="validation-message"></div>
                <input id="end-radius"
                       type="number"
                       min="0"
                       max="100"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('GradientEndRadius')}%" />
            </div>
            <div>
                <label>Color stops:</label>
                <kit-array data-kit-array="#model.getColorStops()"
                           data-kit-item-ref="colorStopInfo">
                    <kit-component id="color-stop-%{#colorStopInfo.index}%"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/color-stop-view/color-stop-view.html"
                                   data-kit-model-input="{ pathStyleViewModel: #model, colorStop: #colorStopInfo.colorStop }">
                    </kit-component>
                </kit-array>
            </div>
        </kit-if>

        <!-- RadialGradientStroke -->
        <kit-if data-kit-condition="#model.getStyleType() == 'RadialGradientStroke'">
            <div>
                <label>Gradient start (%):</label>
                <div>
                    <div id="validation-start-x" class="validation-message"></div>
                    <div id="validation-start-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="start-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="start-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Gradient end (%):</label>
                <div>
                    <div id="validation-end-x" class="validation-message"></div>
                    <div id="validation-end-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="end-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientEnd').x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="end-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientEnd').y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Start radius (%):</label>
                <div id="validation-start-radius" class="validation-message"></div>
                <input id="start-radius"
                       type="number"
                       min="0"
                       max="100"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('GradientStartRadius')}%" />
            </div>
            <div>
                <label>End radius (%):</label>
                <div id="validation-end-radius" class="validation-message"></div>
                <input id="end-radius"
                       type="number"
                       min="0"
                       max="100"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('GradientEndRadius')}%" />
            </div>
            <div>
                <label>Color stops:</label>
                <kit-array data-kit-array="#model.getColorStops()"
                           data-kit-item-ref="colorStopInfo">
                    <kit-component id="color-stop-%{#colorStopInfo.index}%"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/color-stop-view/color-stop-view.html"
                                   data-kit-model-input="{ pathStyleViewModel: #model, colorStop: #colorStopInfo.colorStop }">
                    </kit-component>
                </kit-array>
            </div>
            <kit-component id="stroke-styles"
                           data-kit-template-path="/components/map-editor/tool-palette-dialog/stroke-styles-view/stroke-styles-view.html"
                           data-kit-model-input="{ pathStyleViewModel: #model }">
            </kit-component>
        </kit-if>

        <!-- ConicalGradientFill -->
        <kit-if data-kit-condition="#model.getStyleType() == 'ConicalGradientFill'">
            <div>
                <label>Gradient start (%):</label>
                <div>
                    <div id="validation-start-x" class="validation-message"></div>
                    <div id="validation-start-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="start-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="start-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Start angle:</label>
                <div id="validation-start-angle" class="validation-message"></div>
                <input id="start-angle"
                       type="number"
                       min="0"
                       max="360"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('GradientAngle')}%" />
            </div>
            <div>
                <label>Color stops:</label>
                <kit-array data-kit-array="#model.getColorStops()"
                           data-kit-item-ref="colorStopInfo">
                    <kit-component id="color-stop-%{#colorStopInfo.index}%"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/color-stop-view/color-stop-view.html"
                                   data-kit-model-input="{ pathStyleViewModel: #model, colorStop: #colorStopInfo.colorStop }">
                    </kit-component>
                </kit-array>
            </div>
        </kit-if>

        <!-- ConicalGradientStroke -->
        <kit-if data-kit-condition="#model.getStyleType() == 'ConicalGradientStroke'">
            <div>
                <label>Gradient start (%):</label>
                <div>
                    <div id="validation-start-x" class="validation-message"></div>
                    <div id="validation-start-y" class="validation-message"></div>
                </div>
                <div class="point">
                    <div>
                        <label class="inline-label">x:</label>
                        <input id="start-x"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').x}%" />
                    </div>
                    <div>
                        <label class="inline-label">y:</label>
                        <input id="start-y"
                               type="number"
                               min="0"
                               max="100"
                               onchange="#model.update()"
                               data-kit-add-attributes="value=%{#model.getOption('GradientStart').y}%" />
                    </div>
                </div>
            </div>
            <div>
                <label>Start angle:</label>
                <div id="validation-start-angle" class="validation-message"></div>
                <input id="start-angle"
                       type="number"
                       min="0"
                       max="360"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('GradientAngle')}%" />
            </div>
            <div>
                <label>Color stops:</label>
                <kit-array data-kit-array="#model.getColorStops()"
                           data-kit-item-ref="colorStopInfo">
                    <kit-component id="color-stop-%{#colorStopInfo.index}%"
                                   data-kit-template-path="/components/map-editor/tool-palette-dialog/color-stop-view/color-stop-view.html"
                                   data-kit-model-input="{ pathStyleViewModel: #model, colorStop: #colorStopInfo.colorStop }">
                    </kit-component>
                </kit-array>
            </div>
            <kit-component id="stroke-styles"
                           data-kit-template-path="/components/map-editor/tool-palette-dialog/stroke-styles-view/stroke-styles-view.html"
                           data-kit-model-input="{ pathStyleViewModel: #model }">
            </kit-component>
        </kit-if>

        <!-- TileFill -->
        <kit-if data-kit-condition="#model.getStyleType() == 'TileFill'">
            <div>
                <div>
                    <label>Image:</label>
                    <div id="validation-image" class="validation-message"></div>
                </div>
                <div class="image-container">
                    <div>
                        <img id="image-preview" class="img-preview" />
                        <input id="image-data" type="hidden" value="%{#model.getOption('TileImageSource')}%" />
                    </div>
                    <div>
                        <button class="action-control" title="browse" onclick="#model.browseImage()">...</button>
                    </div>
                </div>
            </div>
        </kit-if>

        <!-- TileStroke -->
        <kit-if data-kit-condition="#model.getStyleType() == 'TileStroke'">
            <div>
                <div>
                    <label>Image:</label>
                    <div id="validation-image" class="validation-message"></div>
                </div>
                <div class="image-container">
                    <div>
                        <img id="image-preview" class="img-preview" />
                        <input id="image-data" type="hidden" value="%{#model.getOption('TileImageSource')}%" />
                    </div>
                    <div>
                        <button class="action-control" title="browse" onclick="#model.browseImage()">...</button>
                    </div>
                </div>
            </div>
            <kit-component id="stroke-styles"
                           data-kit-template-path="/components/map-editor/tool-palette-dialog/stroke-styles-view/stroke-styles-view.html"
                           data-kit-model-input="{ pathStyleViewModel: #model }">
            </kit-component>
        </kit-if>

        <!-- ImageArrayFill -->
        <kit-if data-kit-condition="#model.getStyleType() == 'ImageArrayFill'">
            <div>
                <label>Images:</label>
                <kit-array data-kit-array="#model.getImages()" data-kit-item-ref="imageInfo">
                    <div>
                        <div id="validation-image-%{#imageInfo.index}%" class="validation-message"></div>
                        <div class="image-container">
                            <div>
                                <kit-if data-kit-condition="#model.hasImage(#imageInfo.image)">
                                    <img id="image-preview-%{#imageInfo.index}%" class="img-preview" />
                                </kit-if>
                                <kit-if data-kit-condition="!#model.hasImage(#imageInfo.image)">
                                    <span class="image-placeholder">[None]</span>
                                </kit-if>
                                <input id="image-data-%{#imageInfo.index}%" type="hidden" value="%{#model.getImageSource(#imageInfo.index)}%" />
                            </div>
                            <div>
                                <button class="action-control"
                                        style="padding:15px;margin-right:4px;"
                                        title="browse"
                                        onclick="#model.browseImage(#imageInfo.index)">
                                    ...
                                </button>
                            </div>
                            <div>
                                <button title="Remove image"
                                        class="action-control"
                                        data-kit-add-attributes="%{#model.isRemoveImageDisabled(#imageInfo.index)}%"
                                        onclick="#model.removeImage(#imageInfo.index);">
                                    <div class="icon-container">
                                        <kit-component data-kit-template-path="/resources/icons/delete.html" data-kit-model="null"></kit-component>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </kit-array>
            </div>
            <div>
                <label>Offsets:</label>
                <div id="validation-offsets" class="validation-message"></div>
                <input id="offsets"
                       type="text"
                       placeholder="example: 5, 5"
                       maxlength="200"
                       style="width:400px;"
                       value="%{#model.getOption('ImageArrayOffsets')}%"
                       onchange="#model.update()"
                       onkeydown="#model.onKeyDown(event)" />
            </div>
        </kit-if>

        <!-- ImageArrayStroke -->
        <kit-if data-kit-condition="#model.getStyleType() == 'ImageArrayStroke'">
            <div>
                <label>Images:</label>
                <kit-array data-kit-array="#model.getImages()" data-kit-item-ref="imageInfo">
                    <div>
                        <div id="validation-image-%{#imageInfo.index}%" class="validation-message"></div>
                        <div class="image-container">
                            <div>
                                <kit-if data-kit-condition="#model.hasImage(#imageInfo.image)">
                                    <img id="image-preview-%{#imageInfo.index}%" class="img-preview" />
                                </kit-if>
                                <kit-if data-kit-condition="!#model.hasImage(#imageInfo.image)">
                                    <span class="image-placeholder">[None]</span>
                                </kit-if>
                                <input id="image-data-%{#imageInfo.index}%" type="hidden" value="%{#model.getImageSource(#imageInfo.index)}%" />
                            </div>
                            <div>
                                <button class="action-control"
                                        style="padding:15px;margin-right:4px;"
                                        title="browse"
                                        onclick="#model.browseImage(#imageInfo.index)">
                                    ...
                                </button>
                            </div>
                            <div>
                                <button title="Remove image"
                                        class="action-control"
                                        data-kit-add-attributes="%{#model.isRemoveImageDisabled(#imageInfo.index)}%"
                                        onclick="#model.removeImage(#imageInfo.index);">
                                    <div class="icon-container">
                                        <kit-component data-kit-template-path="/resources/icons/delete.html" data-kit-model="null"></kit-component>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </kit-array>
            </div>
            <div>
                <label>Offsets:</label>
                <div id="validation-offsets" class="validation-message"></div>
                <input id="offsets"
                       type="text"
                       placeholder="example: 5-5"
                       maxlength="200"
                       style="width:400px;"
                       value="%{#model.getOption('ImageArrayOffsets')}%"
                       onchange="#model.update()"
                       onkeydown="#model.onKeyDown(event)" />
            </div>
            <kit-component id="stroke-styles"
                           data-kit-template-path="/components/map-editor/tool-palette-dialog/stroke-styles-view/stroke-styles-view.html"
                           data-kit-model-input="{ pathStyleViewModel: #model }">
            </kit-component>
        </kit-if>

        <!-- Common properties -->
        <kit-if data-kit-condition="#model.getStyleType() != ''">
            <div>
                <label>Opacity (%):</label>
                <div id="validation-opacity" class="validation-message"></div>
                <input id="opacity"
                       type="number"
                       min="0"
                       max="100"
                       onchange="#model.update()"
                       data-kit-add-attributes="value=%{#model.getOption('Opacity')}%" />
            </div>
            <div>
                <label>Presentation mode:</label>
                <div id="validation-presentation-mode" class="validation-message"></div>
                <select id="presentation-mode"
                        title="Presentation mode"
                        onchange="#model.update()">
                    <option value="Normal" data-kit-add-attributes="%{#model.isSelected('PresentationMode', 'Normal')}%">Normal</option>
                    <option value="EditViewOnly" data-kit-add-attributes="%{#model.isSelected('PresentationMode', 'EditViewOnly')}%">Edit view only</option>
                    <option value="PresentationViewOnly" data-kit-add-attributes="%{#model.isSelected('PresentationMode', 'PresentationViewOnly')}%">Presentation view only</option>
                </select>
            </div>
        </kit-if>

    </fieldset>
</kit-if>
